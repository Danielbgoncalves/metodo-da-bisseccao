//===================================================================================================
/*
UNIVERSIDADE FEDERAL DE UBERLÂNDIA
INSTITUTO DE MATEMÁTICA E DE ESTATÍSTICA
DISCIPLINA: CÁLCULO NUMÉRICO (FAMAT31032)
CURSO: CIÊNCIA DA COMPUTAÇÃO
CÓDIGO: MÉTODO DA BISSEÇÃO
*/
//===================================================================================================
/* PRÉ PROCESSADORES */
//===================================================================================================
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
//===================================================================================================
/* SUB-ROTINA */
//===================================================================================================
double f (double x) {
    return (x - cos(x));
}
//===================================================================================================
/* PROGRAMA PRINCIPAL */
//===================================================================================================
int main(int argc, char *argv[]) {
    //===============================================================================================
    /* DECLARAÇÃO DE VARIÁVEIS */
    //===============================================================================================
    int k; // contador do número de iterações
    double a, b; // intervalo que contém a solução
    double x; // ponto médio do intervalo [a, b]
    double eps; // precisão (acurácia)
    //===============================================================================================
    /* LIMPEZA DA TELA DO TERMINAL */
    //===============================================================================================
    system("cls");
    //===============================================================================================
    /* ENTRADA DE DADOS */
    //===============================================================================================
    a = atof(argv[1]); //atoi converteria o char para inteiro, 
    b = atof(argv[2]);
    eps = atof(argv[3]);
    //===============================================================================================
    /* APLICAÇÃO DO METODO DA BISSECÇÃO */
    //===============================================================================================
    k = 0;
    while( fabs(b-a)  > eps ){
        ++k;
        x = 0.5 * (a + b);
        if( f(a) * f(x) < 0.0 ) b = x;
        else a = x;
    }
    x = 0.5 * (a + b);

    //===============================================================================================
    /* IMPRESSÃO DOS RESULTADOS */
    //===============================================================================================
    printf("Aproximacao paar x: %.15lf\n", x);
    printf("f(x): % e\n", f(x));
    printf("Numero de iteracoes: %d \n", k);

    //===============================================================================================
    /* FIM DO PROGRAMA */
    //===============================================================================================
    return 0;
}
